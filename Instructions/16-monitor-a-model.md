---
lab:
    title: '监视模型'
---
# 监视模型

将模型部署为服务时，能够跟踪有关其处理的请求的信息很有用。

Azure 机器学习与 Azure Application Insights 集成，让你能记录已部署服务中的数据。

## 准备工作

如果尚未完成 *[创建 Azure 机器学习工作区](01-create-a-workspace.md)* 练习以创建 Azure 机器学习工作区和计算实例，请完成它，并克隆本练习所需的笔记本。

## 打开 Jupyter

虽然可以使用 Azure 机器学习工作室中的 **“笔记本”** 页面来运行笔记本，但使用功能齐全的笔记本开发环境（如 *Jupyter*） 通常效率更高。

1. 在 [Azure 机器学习工作室](https://ml.azure.com)中，查看工作区的 **“计算”** 页面，并在 **“计算实例”** 选项卡上启动计算实例（如果尚未运行）。
2. 当计算实例正在运行时，单击 **Jupyter** 链接以在新的浏览器选项卡中打开 Jupyter 主页。

## 使用 Application Insights 监视实时服务

本练习在笔记本中提供了用于为已部署预测服务配置 Application Insights 的代码。

1. 在 Jupyter 主页中，浏览到克隆的笔记本存储库所在的 **/users/*your-user-name*/mslearn-dp100** 文件夹，然后打开 **“监视模型”** 笔记本。
2. 然后阅读笔记本中的笔记，依次运行每个代码单元。
3. 笔记本中的代码运行完毕后，在 **“文件”** 菜单上单击 **“关闭并停止”** 以关闭它及其 Python 内核。然后关闭所有 Jupyter 浏览器选项卡。

## 清理

如果你现在完成了 Azure 机器学习的工作，请在 Azure 机器学习工作室的 **“计算”** 页上的 **“计算实例”** 选项卡上，选择你的计算实例，然后单击 **“停止”** 以将其关闭。否则，让它继续运行以便你在下一个实验室中使用。

> **备注**： 停止计算可确保你的订阅不会为计算资源付费。但是，只要订阅中存在 Azure 机器学习工作区，就需要为数据存储支付少量费用。如果已完成对 Azure 机器学习的探索，可以删除 Azure 机器学习工作区和相关资源。但是，如果计划完成本系列中的任何其他实验室，则需要先重复 *[创建 Azure 机器学习工作区](01-create-a-workspace.md)* 练习来创建工作区并准备环境。
