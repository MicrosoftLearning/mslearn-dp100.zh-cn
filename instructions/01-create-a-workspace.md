---
lab:
  title: 创建 Azure 机器学习工作区
ms.openlocfilehash: c2f33973281221da1a4871f19fbaff8f127d028f
ms.sourcegitcommit: 8601551af6c32a4c75fd9ecffce750583c2ab4b8
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/01/2022
ms.locfileid: "141346677"
---
# <a name="create-and-explore-an-azure-machine-learning-workspace"></a>创建并探索 Azure 机器学习工作区

在本练习中，你将创建并探索 Azure 机器学习工作区。

## <a name="create-an-azure-machine-learning-workspace"></a>创建 Azure 机器学习工作区

顾名思义，工作区是用于管理机器学习项目中需要处理的所有 Azure ML 资产的集中位置。

1. 在 [Azure 门户](https://portal.azure.com)中，创建新的机器学习资源，并指定以下设置：

    - **订阅**：Azure 订阅
    - 资源组：创建或选择资源组
    - 工作区名称：输入工作区的唯一名称
    - 区域：选择最靠近你的地理区域
    - 存储帐户：请记下要为工作区创建的默认新存储帐户
    - 密钥保管库：请记下要为工作区创建的默认新密钥保管库
    - Application Insights：请记下要为工作区创建的默认新 Application Insights
    - 容器注册表：无（第一次将模型部署到容器时，将自动创建一个）

    > **注意**：创建 Azure 机器学习工作区时，可以使用一些高级选项来限制通过专用终结点的访问，并指定用于数据加密的自定义密钥。 本练习中不使用这些选项，但你应该知道有这些选项。

2. 创建工作区及其相关资源后，可在门户中查看该工作区。

## <a name="explore-azure-machine-learning-studio"></a>探索 Azure 机器学习工作室

可在 Azure 门户中管理一些工作区资产，但是对于数据科学家而言，此工具包含许多不相关信息和与管理常规 Azure 资源有关的链接。 Azure 机器学习工作室提供了专用的 Web 门户来处理工作区。

1. 在 Azure 机器学习工作区的 Azure 门户边栏选项卡中，单击此链接以启动工作室；或者在新的浏览器选项卡中打开 [https://ml.azure.com](https://ml.azure.com)。 如果出现提示，请使用上个任务中使用的 Microsoft 帐户登录，然后选择你的 Azure 订阅和工作区。

    > **提示** 如果有多个 Azure 订阅，则需要选择在其中定义了订阅的 Azure 目录，然后选择订阅，最后选择工作区。

2. 查看工作区的 Azure 机器学习工作室界面 - 可以从此处管理工作区中的所有资产。
3. 在 Azure 机器学习工作室中，切换左上角的 &#9776; 图标，以显示和隐藏界面中的各个页面。 你可以使用这些页面来管理工作区中的资源。

## <a name="create-a-compute-instance"></a>创建计算实例

Azure 机器学习的好处之一是能够创建基于云的计算，可以在其上大规模运行试验和训练脚本。

1. 在 Azure 机器学习工作室中，查看“计算”页面。 你将在此处管理数据科学活动的计算资源。 可以创建四种类型的计算资源：
    - **计算实例**：数据科学家使用其处理数据和模型的开发工作站。
    - **计算群集**：用于按需处理试验代码的可缩放虚拟机群集。
    - **引用群集**：使用已训练模型的预测服务的部署目标。
    - **附加计算**：指向其他 Azure 计算资源（如虚拟机或 Azure Databricks 群集）的链接。

    在本练习中，你将创建一个计算实例，以便可以在工作区中运行一些代码。

2. 在“计算实例”选项卡上，通过以下设置添加新计算实例。 你将使用该实例作为工作站运行笔记本中的代码。
    - **计算名称**：输入唯一名称
    - 位置：与工作区的位置相同
    - **虚拟机类型**：CPU
    - 虚拟机大小：Standard_DS11_v2
    - 可用总配额：显示可用的专用核心数。
    - 显示高级设置：请注意以下设置，但不要选择它们： 
        - **启用 SSH 访问**：未选择（可使用此选项来启用使用 SSH 客户端直接访问虚拟机的功能）
        - 启用虚拟网络：未选择（通常会在企业环境中使用此选项来增强网络安全）
        - **分配给另一个用户**：未选择（你可以使用此选项将计算实例分配给数据科学家）3. 等待计算实例启动，并将其状态更改为“正在运行”。

> **注意**：计算实例和群集是基于标准 Azure 虚拟机映像的。 对于本练习，建议使用 Standard_DS11_v2 映像来实现成本和性能的最佳平衡。 如果你的订阅配额不包含此映像，请选择其他映像；但请注意，较大的映像可能会产生较高的成本，而较小的映像可能不足以完成任务。 或者，让 Azure 管理员扩展配额。

## <a name="clone-and-run-a-notebook"></a>创建和运行笔记本

通过运行笔记本中的代码，可以进行许多数据科学和机器学习试验。 计算实例包括功能齐全的 Python 笔记本环境（Jupyter 和 JuypyterLab），可用于各种工作；但是对于基本的笔记本编辑，你可以使用 Azure 机器学习工作室中的内置“笔记本”页面 。

1. 在 Azure 机器学习工作室中，查看“笔记本”页面。
2. 如果出现介绍新功能的消息，请关闭该消息。
3. 选择“终端”或“打开终端”图标以打开终端，并确保其“计算”设置为你的计算实例，且当前路径为 /users/your-user-name 文件夹   。
4. 输入以下命令，将包含笔记本、数据和其他文件的 Git 存储库克隆到工作区：

    ```bash
    git clone https://github.com/MicrosoftLearning/mslearn-dp100 mslearn-dp100
    ```

4. 命令完成后，在“文件”窗格中，单击 &#8635; 来刷新视图，并验证是否已创建新的 /users/your-user-name/mslearn-dp100 文件夹  。 此文件夹包含多个 .ipynb 笔记本文件。
5. 关闭终端窗格，终止会话。
6. 在 /users/your-user-name/mslearn-dp100 文件夹中，打开“开始使用笔记本”笔记本 。 然后阅读说明并按照其中的说明进行操作。

> **提示**：要运行代码单元，请选择要运行的单元，然后使用 &#9655; 按钮运行它。 

> 不熟悉 Python？ 请使用 [Python 速查表](cheat-sheets/dp100-cheat-sheet-python.pdf)来了解代码。

> 不熟悉机器学习？ 请参阅[机器学习概述](cheat-sheets/dp100-cheat-sheet-machine-learning.pdf)，简要了解 Azure 机器学习中的机器学习过程。

## <a name="stop-your-compute-instance"></a>停止计算实例

如果暂时完成了 Azure 机器学习的探索，应关闭计算实例，以避免在 Azure 订阅中产生不必要的费用。

1. 在 Azure 机器学习工作室中的“计算”页面上，选择你的计算实例。
2. 单击“停止”以停止你的计算实例。 关机后，其状态将更改为“已停止”。

> **注意**：停止计算可确保不会向你的订阅收取计算资源的费用。 但是，只要订阅中存在 Azure 机器学习工作区，就会向你收取少量数据存储费用。 如果已完成对 Azure 机器学习的探索，可以删除 Azure 机器学习工作区和关联的资源。 但是，如果计划完成本系列中的任何其他实验室，则需要先重复此实验室来创建工作区并准备环境。
